var __spreadArray=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function isEmailValid(e){return e.includes("@")}function isUrlValid(e){return e.includes("http")}var _a,_b,imgZoom=function(){function e(){var e=this;this.selector='[data-action="imageZoomIn"]',this.selectorAttr="href",this.currentIndex=0,this.images=[],this.getZoomImages(),window.addEventListener("resize",function(){document.querySelector(".overlay")&&e.loadImage(e.images[e.currentIndex])})}return e.prototype.getZoomImages=function(){var n=this,e=Array.from(document.querySelectorAll(this.selector));this.images=__spreadArray([],e,!0).map(function(e){return e.getAttribute(n.selectorAttr)}).filter(function(e){return null!==e}),e.forEach(function(t){t.addEventListener("click",function(e){e.preventDefault();e=t.getAttribute(n.selectorAttr);n.showOverlay(e)})})},e.prototype.renderNav=function(){var e="".concat(this.currentIndex+1,"/").concat(this.images.length),t=document.querySelector(".image--nav");t&&(t.innerHTML=e)},e.prototype.prevImage=function(){0!==this.currentIndex&&(this.currentIndex=this.currentIndex-1,this.loadImage(this.images[this.currentIndex]),this.renderNav())},e.prototype.nextImage=function(){this.currentIndex!==this.images.length-1&&(this.currentIndex=this.currentIndex+1,this.loadImage(this.images[this.currentIndex]),this.renderNav())},e.prototype.showOverlay=function(e){var t=this,n=this.images.indexOf(e),n=(this.currentIndex=n,0<this.images.length?'<div class="image--nav">'.concat(n+1,"/").concat(this.images.length,'</div><button title="Prev" type="button" class="mfp-arrow mfp-arrow-left mfp-prevent-close"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true">\n            <path d="M14.4998 7.80903C14.4742 7.74825 14.4372 7.69292 14.3908 7.64603L8.68084 1.93803C8.58696 1.84427 8.45967 1.79165 8.32699 1.79175C8.19431 1.79184 8.0671 1.84464 7.97334 1.93853C7.87959 2.03241 7.82697 2.1597 7.82707 2.29238C7.82716 2.42506 7.87996 2.55227 7.97384 2.64603L12.8278 7.50003H1.96484C1.83224 7.50003 1.70506 7.5527 1.61129 7.64647C1.51752 7.74024 1.46484 7.86742 1.46484 8.00003C1.46484 8.13263 1.51752 8.25981 1.61129 8.35358C1.70506 8.44735 1.83224 8.50003 1.96484 8.50003H12.8278L7.97384 13.354C7.87996 13.4478 7.82716 13.575 7.82707 13.7077C7.82697 13.8404 7.87959 13.9676 7.97334 14.0615C8.0671 14.1554 8.19431 14.2082 8.32699 14.2083C8.45967 14.2084 8.58696 14.1558 8.68084 14.062L14.3878 8.35403C14.4342 8.30713 14.4712 8.2518 14.4968 8.19103C14.5478 8.069 14.5489 7.93184 14.4998 7.80903Z"></path>\n        </svg></button><button title="Next (Right arrow key)" type="button" class="mfp-arrow mfp-arrow-right mfp-prevent-close"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true">\n            <path d="M14.4998 7.80903C14.4742 7.74825 14.4372 7.69292 14.3908 7.64603L8.68084 1.93803C8.58696 1.84427 8.45967 1.79165 8.32699 1.79175C8.19431 1.79184 8.0671 1.84464 7.97334 1.93853C7.87959 2.03241 7.82697 2.1597 7.82707 2.29238C7.82716 2.42506 7.87996 2.55227 7.97384 2.64603L12.8278 7.50003H1.96484C1.83224 7.50003 1.70506 7.5527 1.61129 7.64647C1.51752 7.74024 1.46484 7.86742 1.46484 8.00003C1.46484 8.13263 1.51752 8.25981 1.61129 8.35358C1.70506 8.44735 1.83224 8.50003 1.96484 8.50003H12.8278L7.97384 13.354C7.87996 13.4478 7.82716 13.575 7.82707 13.7077C7.82697 13.8404 7.87959 13.9676 7.97334 14.0615C8.0671 14.1554 8.19431 14.2082 8.32699 14.2083C8.45967 14.2084 8.58696 14.1558 8.68084 14.062L14.3878 8.35403C14.4342 8.30713 14.4712 8.2518 14.4968 8.19103C14.5478 8.069 14.5489 7.93184 14.4998 7.80903Z"></path>\n        </svg></button>'):""),n='<div class="overlay"><button class="zoomImgClose"><svg width="25" height="25" viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg" class="q"><path d="M18.13 6.11l-5.61 5.61-5.6-5.61-.81.8 5.61 5.61-5.61 5.61.8.8 5.61-5.6 5.61 5.6.8-.8-5.6-5.6 5.6-5.62"/></svg></button><div class="overlay-img-wrap"><img class="overlay-image"><div class="lds-ripple"></div></div>'.concat(n,"</div>"),r=document.querySelector("body");r&&(r.insertAdjacentHTML("beforeend",n),r.classList.add("u-overflowYHidden")),this.loadImage(e),null!=(n=document.querySelector(".zoomImgClose"))&&n.addEventListener("click",function(){t.overlayRemove()}),null!=(r=document.querySelector(".mfp-arrow-right"))&&r.addEventListener("click",function(){t.nextImage()}),null!=(e=document.querySelector(".mfp-arrow-left"))&&e.addEventListener("click",function(){t.prevImage()})},e.prototype.loadImage=function(o){var i=new Image,a=document.querySelector(".lds-ripple"),s=(a&&(a.style.display="inline-block"),document.querySelector(".overlay-image")),l=document.querySelector(".image--nav");null!=l&&l.classList.add("u-hide"),s.style.display="none",i.onload=function(){var e=i.width,t=i.height,n=window.innerHeight-140,r=window.innerWidth-80;r<e?(t*=r/e,e=r,n<t&&(e*=n/t,t=n)):n<t&&(e*=n/t,t=n,r<e)&&(t*=r/e,e=r),s.setAttribute("src",o),s.style.width=e+"px",s.style.height=t+"px",s.style.display="block",null!=l&&l.classList.remove("u-hide"),null!=(n=document.querySelector(".overlay-img-wrap"))&&n.classList.add("is-finieshed"),a.style.display="none"},i.src=o},e.prototype.overlayRemove=function(){this._remove(document.querySelector(".overlay"));var e=document.querySelector("body");e&&e.classList.remove("u-overflowYHidden")},e.prototype._remove=function(e){var t=e.parentNode;t&&t.removeChild(e)},e}();new imgZoom,document.querySelectorAll(".leftpanel li").forEach(function(t,n){t.addEventListener("click",function(e){document.querySelectorAll(".leftpanel li").forEach(function(e){e.classList.remove("active")}),t.classList.add("active"),document.querySelectorAll(".div-tab").forEach(function(e){e.classList.add("hidden")}),document.querySelectorAll(".div-tab")[n].classList.remove("hidden")})}),null!=(_a=document.querySelector("#upload-categoryCover"))&&_a.addEventListener("click",function(e){e.preventDefault();var n=wp.media({title:obvInit.upload_title,multiple:!1,button:{text:obvInit.upload_button}}).open().on("select",function(){var e,t=n.state().get("selection").first().toJSON().url;null!=(e=document.querySelector("#_category_cover"))&&e.setAttribute("value",t)})}),null!=(_b=document.querySelector("#pure-save"))&&_b.addEventListener("click",function(e){e.preventDefault();e=document.querySelector("#pure-form"),e=new FormData(e),e=new URLSearchParams(e);jQuery.ajax({url:obvInit.ajaxurl,data:e+"&action=farallon_setting",type:"POST",success:function(){var e='<div id="farallon-settings_updated" class="notice notice-success settings-error is-dismissible"><p><strong>'.concat(obvInit.success_message,'</strong></p><button type="button" class="notice-dismiss"></button></div>');jQuery(".pure-wrap").before(e),window.scrollTo(0,0)}})}),function(n){n(document).on("click","#farallon-settings_updated .notice-dismiss",function(){n("#farallon-settings_updated").remove()}),n(".pure-setting-switch").click(function(){var e=n(this),t=n("#"+e.attr("data-id"));e.hasClass("active")?(e.removeClass("active"),t.val(0)):(e.addClass("active"),t.val(1)),t.change()})}(jQuery);